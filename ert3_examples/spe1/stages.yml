-
  name: simulate_SPE1
  type: unix
  input:
    -
      record: field_properties
      location: field_properties.json
    -
      record: wells
      location: wells.json

  output:
    -
      record: wopt_prod
      location: WOPT:PROD.json
    -
      record: wwpt_prod
      location: WWPT:PROD.json
    -
      record: wgpt_prod
      location: WGPT:PROD.json
    -
      record: wwit_inj
      location: WWIT:INJ.json



  transportable_commands:
    -
      name: bash
      location: bash.py
    -
      name: summary2json
      location: summary2json.py
    -
      name: render
      location: render.py

  script:
    # TODO: The following cp should not be present, instead files should be
    # transfered as blob records.
    - bash cp ${SPE1_WORKSPACE_ROOT}/resources/SPE1CASE2.DATA.jinja2 SPE1CASE2.DATA.jinja2
    - render -t SPE1CASE2.DATA.jinja2 -i field_properties.json wells.json -o SPE1CASE2.DATA
    # TODO: When executables can be ran directly, the `bash` prefix should be
    # removed.
    - bash flow SPE1CASE2
    - summary2json --datafile SPE1CASE2.DATA --keywords WOPT:PROD WWPT:PROD WGPT:PROD WWIT:INJ
